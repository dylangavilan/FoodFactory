(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{48:function(e,t,c){},49:function(e,t,c){},77:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(24),s=c.n(n),i=(c(48),c(5)),r=(c(49),c(10)),l=c(0);function o(){return Object(l.jsx)("div",{className:"div-landing",children:Object(l.jsx)("div",{children:Object(l.jsx)(r.b,{to:"home",children:Object(l.jsx)("button",{className:"title-landing",children:"Home"})})})})}var j=c(6),d=c(17),u=c.n(d),b=c(25),p=c(16),h=c.n(p);function O(){return function(){var e=Object(b.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("http://localhost:3001/api/dietas");case 2:c=e.sent,t({type:"ALL_DIETS",payload:c.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}c(77);function m(){return Object(l.jsx)("div",{children:Object(l.jsx)("h1",{children:"Loading"})})}function f(){var e=Object(i.f)().id,t=Object(j.c)((function(e){return e.recipesById})),c=Object(j.b)();return Object(a.useEffect)((function(){return c(function(e){return function(t){return h.a.get("http://localhost:3001/api/recetas/".concat(e)).then((function(e){var c=e.data;t({type:"GET_ID",payload:c})}))}}(e)),function(){c({type:"RESTART_INFO"})}}),[c,e]),Object.keys(t).length?Object(l.jsx)("div",{className:"all",children:Object(l.jsxs)("div",{className:"body-detail",children:[Object(l.jsxs)("div",{className:"body-title-img",children:[Object(l.jsx)("h3",{className:"recipe-title",children:t.title}),Object(l.jsxs)("div",{className:"img-detail",children:[Object(l.jsx)("img",{src:t.image?t.image:null,alt:"receta",className:"recipe-image"}),Object(l.jsxs)("div",{className:"healtscore-detail",children:["HealthScore:",t.healthScore]})]}),Object(l.jsx)("div",{className:"body-recipe-summary",children:Object(l.jsx)("div",{dangerouslySetInnerHTML:{__html:t.summary},className:"recipe-summary"})})]}),Object(l.jsxs)("div",{className:"detail-diet-steps",children:[Object(l.jsxs)("div",{className:"steps-detail",children:[Object(l.jsx)("h3",{children:"Steps"}),t.analyzedInstructions&&t.analyzedInstructions.map((function(e,t){return e.steps.map((function(e){return Object(l.jsx)("div",{className:"step-box",children:Object(l.jsxs)("span",{children:[e.number,"-",e.step]},e.number)},e.step)}))})),t.steps&&t.steps.map((function(e){return Object(l.jsx)("div",{children:e},e)}))]}),Object(l.jsxs)("div",{className:"diets-detail",children:[Object(l.jsx)("h3",{children:"Diets"}),t.diets&&t.diets.map((function(e,t){return"object"===typeof e?Object(l.jsx)("span",{children:e.name.charAt(0).toUpperCase()+e.name.slice(1)},e.name):Object(l.jsx)("span",{children:e.charAt(0).toUpperCase()+e.slice(1)},e)})),Object(l.jsxs)("div",{className:"dishtype-detail",children:[Object(l.jsx)("h3",{children:"Dishtypes"}),t.dishType&&t.dishType.map((function(e,t){return Object(l.jsx)("li",{className:"recipe-dishtype",children:e.charAt(0).toUpperCase()+e.slice(1)},e)}))]})]}),Object(l.jsxs)("div",{className:"diets-detail",children:[Object(l.jsx)("h3",{children:"Ingredients"}),t.extendedIngredients&&t.extendedIngredients.map((function(e){return Object(l.jsx)("p",{className:"recipe-diets",children:e.name.charAt(0).toUpperCase()+e.name.slice(1)},e.name)}))]})]})]})}):Object(l.jsx)(m,{children:" "})}var x=c(14),v=c(15),g=(c(80),c(13));c(81);function y(){var e=Object(j.b)(),t=Object(a.useState)(""),c=Object(g.a)(t,2),n=c[0],s=c[1];function i(t){t.preventDefault(),e(function(e){return function(t){return h.a.get("http://localhost:3001/api/recetas?name="+e).then((function(e){var c=e.data;t({type:"GET_QUERY",payload:c})}))}}(n))}return Object(l.jsx)("div",{children:Object(l.jsxs)("form",{className:"form",onSubmit:function(e){i(e)},children:[Object(l.jsx)("input",{className:"inputsearch",type:"text",placeholder:"title",onChange:function(e){return function(e){e.preventDefault(),s(e.target.value)}(e)}}),Object(l.jsx)("button",{className:"search-button",type:"Submit",children:Object(l.jsx)(x.a,{className:"faSearch-icon",icon:v.d})})]})})}var N=function(){return Object(l.jsx)("div",{className:"container-nav",children:Object(l.jsxs)("ul",{className:"ul-nav",children:[Object(l.jsx)(r.b,{to:"/home",children:Object(l.jsx)("li",{className:"hamburger",children:Object(l.jsx)(x.a,{className:"faHamburger",icon:v.a})})}),Object(l.jsx)(y,{}),Object(l.jsx)(r.b,{to:"/form",children:Object(l.jsx)("button",{href:"/form",className:"li-nav",children:"Create recipe"})})]})})},S=c(20),C=c(22),A=c(2);c(82);function E(){var e=Object(i.e)(),t=Object(j.c)((function(e){return e.diets})),c=Object(j.b)();Object(a.useEffect)((function(){c(O())}),[c]);var n=Object(a.useState)({recipe:"",summary:"",image:"",diets:[],healthScore:0,spoonacularScore:0,dishType:[],steps:[]}),s=Object(g.a)(n,2),r=s[0],o=s[1],d=Object(a.useState)({}),p=Object(g.a)(d,2),m=p[0],f=p[1];function x(e){o((function(t){return Object(A.a)(Object(A.a)({},t),{},Object(S.a)({},e.target.name,e.target.value))})),f(function(e){var t={};return e.title||(t.title="Title is required"),e.image||(t.image="Image is required"),0===e.diets.length&&(t.diets="Diets is required"),0===e.dishType.length&&(t.dishType="dishTypes is required"),t}(Object(A.a)(Object(A.a)({},r),{},Object(S.a)({},e.target.name,e.target.value))))}function v(){return(v=Object(b.a)(u.a.mark((function t(c){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),!(r.diets.length<1)&&r.image){t.next=3;break}return t.abrupt("return",alert("faltan parametros"));case 3:return t.next=5,h.a.post("http://localhost:3001/api/recetas",r);case 5:e.push("/home"),alert("Recipe created");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(l.jsx)("div",{className:"form-total",children:Object(l.jsx)("div",{className:"body-form",children:Object(l.jsxs)("form",{onSubmit:function(e){!function(e){v.apply(this,arguments)}(e)},children:[Object(l.jsxs)("div",{className:"body-input",children:[Object(l.jsxs)("div",{className:"container-form-title",children:[Object(l.jsx)("h3",{children:Object(l.jsx)("b",{children:"Title"})}),Object(l.jsx)("input",{autoComplete:"off",className:"form-title",type:"text",name:"title",onChange:x,value:r.title}),m.title&&Object(l.jsx)("p",{className:"danger",children:m.title})]}),Object(l.jsxs)("div",{className:"container-form-title",children:[Object(l.jsx)("h3",{children:Object(l.jsx)("b",{children:"Summary"})}),Object(l.jsx)("input",{autoComplete:"off",type:"text",className:"form-title",name:"summary",onChange:x,value:r.summary})]}),Object(l.jsxs)("div",{className:"container-form-title",children:[Object(l.jsx)("h3",{children:Object(l.jsx)("b",{children:"Image"})}),Object(l.jsx)("input",{autoComplete:"off",className:"form-title",type:"text",name:"image",onChange:x,value:r.image}),m.image&&Object(l.jsx)("p",{className:"danger",children:m.image})]}),Object(l.jsxs)("div",{className:"container-form-title",children:[Object(l.jsx)("h3",{children:Object(l.jsx)("b",{children:"healthScore"})}),Object(l.jsx)("input",{autoComplete:"off",type:"text",name:"healthScore",className:"form-title",onChange:x,value:r.healthScore})]}),Object(l.jsxs)("div",{className:"container-form-title",children:[Object(l.jsx)("h3",{children:Object(l.jsx)("b",{children:"Score"})}),Object(l.jsx)("input",{autoComplete:"off",type:"number",name:"spoonacularScore",className:"form-title",onChange:x,value:r.spoonacularScore})]}),Object(l.jsxs)("div",{children:[r.steps&&r.steps.map((function(e,t){return Object(l.jsx)("span",{children:Object(l.jsx)("input",{type:"text",className:"input-steps-form",onChange:function(e){!function(e,t){var c=Object(C.a)(r.steps);c[t]=e.target.value,o((function(e){return Object(A.a)(Object(A.a)({},e),{},{steps:c})}))}(e,t)}})},t)})),Object(l.jsx)("button",{type:"button",className:"button-form",onClick:function(){o(Object(A.a)(Object(A.a)({},r),{},{steps:[].concat(Object(C.a)(r.steps),[""])}))},children:"Add steps"})]}),Object(l.jsxs)("div",{className:"container-select-diets",children:[r.diets&&r.diets.map((function(e,c){return c<5?Object(l.jsx)("div",{children:Object(l.jsxs)("select",{className:"select-diets-form",onChange:function(e){!function(e){e.preventDefault(),r.diets.find((function(t){return t===e.target.value}))||o((function(){return Object(A.a)(Object(A.a)({},r),{},{diets:[].concat(Object(C.a)(r.diets),[e.target.value])})}))}(e)},children:[Object(l.jsx)("option",{value:"recipes",disabled:!0,selected:!0,children:"Diet"}),t.map((function(e){return Object(l.jsx)("option",{value:e.name,children:e.name},e.id)}))]})}):""})),r.diets.length<5?Object(l.jsx)("button",{type:"button",className:"button-form",onClick:function(){o(Object(A.a)(Object(A.a)({},r),{},{diets:[].concat(Object(C.a)(r.diets),[""])}))},children:"Add diets"}):""]})]}),Object(l.jsx)("button",{type:"submit",className:"button-submit-form",children:"Submit recipe"})]})})})}c(83),c(84);function T(e){var t=e.title,c=e.image,a=e.diets,n=e.id,s=e.healthScore,i=Object(j.b)(),o=Object(j.c)((function(e){return e.favs}));return Object(l.jsx)("div",{className:"card",children:Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)("div",{className:"container-card-img",children:Object(l.jsx)("img",{src:c,alt:t,className:"card-img"})}),Object(l.jsx)("div",{className:"container-title",children:Object(l.jsx)("h1",{className:"card-title",children:t})}),Object(l.jsxs)("div",{className:"container-diets",children:[a&&a.map((function(e,t){return"object"===typeof e?0===t?Object(l.jsx)("span",{children:e.name.toUpperCase()},e.name):Object(l.jsx)("span",{children:"  -  "+e.name.toUpperCase()+e.name.slice(1)},e.name):0===t?Object(l.jsx)("span",{children:e.charAt(0).toUpperCase()+e.slice(1)},e):Object(l.jsx)("span",{children:"  -  "+e.charAt(0).toUpperCase()+e.slice(1)},e)})),Object(l.jsx)(x.a,{className:o.find((function(e){return e.id===n}))?"faFav":"faStar",icon:v.e,onClick:function(){o.find((function(e){return e.id===n}))?i({type:"REMOVE_FAV",payload:n}):i(function(e){return{type:"ADD_FAV",payload:e}}(n))}})]}),Object(l.jsx)("div",{className:"container-health",children:s>70?Object(l.jsxs)("div",{children:[Object(l.jsx)(x.a,{icon:v.b}),Object(l.jsx)("span",{children:s})]}):Object(l.jsxs)("div",{children:[Object(l.jsx)(x.a,{icon:v.c}),Object(l.jsx)("span",{children:s})]})}),Object(l.jsx)("div",{className:"container-card-botton",children:Object(l.jsx)(r.b,{to:"/home/info/".concat(n),children:Object(l.jsx)("button",{className:"card-button",children:"View Recipe"})})})]})})}c(85);function D(e){for(var t=e.recipesPage,c=e.allRecipes,a=e.paginado,n=e.currentPage,s=[],i=1;i<=Math.ceil(c.length/t);i++)s.push(i);return Object(l.jsxs)("nav",{className:"nav-paginate",children:[n>1?Object(l.jsx)("button",{onClick:function(){return a(n-1)},children:"<"}):"",s&&s.map((function(e){return Object(l.jsx)("button",{className:e===n?"current-paginate-button":"paginate-button",onClick:function(){return a(e)},children:e},e)})),n<s.length?Object(l.jsx)("button",{onClick:function(){return a(n+1)},children:">"}):""]})}function I(){var e=Object(j.c)((function(e){return e.recipesPrueba})),t=Object(j.c)((function(e){return e.diets})),c=Object(j.b)(),n=Object(a.useState)(""),s=Object(g.a)(n,2),i=s[0],o=s[1],d=Object(a.useState)(1),u=Object(g.a)(d,2),b=u[0],p=u[1],m=Object(a.useState)(9),f=Object(g.a)(m,2),x=f[0],v=f[1],y=b*x-x,N=b*x,S=e.slice(y,N);function C(e){var t;e.preventDefault(),c((t=e.target.value,console.log(t),{type:"FILTER_DB",payload:t})),p(1),o("order".concat(e.target.value))}return Object(a.useEffect)((function(){c((function(e){return h.a.get("http://localhost:3001/api/recetas").then((function(t){var c=t.data;e({type:"GET_ALL",payload:c})}))})),c(O())}),[c]),Object(l.jsxs)("div",{className:S.length>4?"container-home":"container-home-dos",children:[Object(l.jsxs)("div",{className:"container-select",children:[Object(l.jsxs)("select",{className:"select-home",onChange:function(e){!function(e){e.preventDefault(),v(e.target.value)}(e)},children:[Object(l.jsx)("option",{value:"recipes",disabled:!0,selected:!0,children:"Recipes per page"}),Object(l.jsx)("option",{value:"4",children:"4"}),Object(l.jsx)("option",{value:"9",children:"9"}),Object(l.jsx)("option",{value:"12",children:"12"})]}),Object(l.jsx)("div",{children:Object(l.jsxs)("select",{className:"select-home",onChange:function(e){!function(e){e.preventDefault(),c({type:"FILTER_ASC",payload:e.target.value}),p(1),o("order".concat(e.target.value,",").concat(i))}(e)},children:[" ",Object(l.jsx)("option",{value:"recipes",disabled:!0,selected:!0,children:"Order"}),Object(l.jsx)("option",{value:"ASC",children:"Asc"}),Object(l.jsx)("option",{value:"DES",children:"Des"})]})}),Object(l.jsx)("div",{children:Object(l.jsxs)("select",{className:"select-home",onChange:function(e){!function(e){e.preventDefault(),c({type:"FILTER_SCORE",payload:e.target.value}),p(1),o("order".concat(e.target.value))}(e)},children:[Object(l.jsx)("option",{value:"max",children:"Max Healtscore"}),Object(l.jsx)("option",{value:"min",children:"Min Healtscore"})]})}),Object(l.jsx)("div",{children:Object(l.jsxs)("select",{className:"select-home",onChange:function(e){!function(e){e.preventDefault(),p(1),c({type:"TYPE_DIET",payload:e.target.value})}(e)},children:[Object(l.jsx)("option",{value:"recipes",disabled:!0,selected:!0,children:"Type of diet"}),t&&t.map((function(e){return Object(l.jsx)("option",{value:e.name,children:e.name.charAt(0).toUpperCase()+e.name.slice(1)},e.id)}))]})}),Object(l.jsx)("div",{children:Object(l.jsxs)("select",{name:"select-home",className:"select-home",onChange:function(e){C(e)},children:[Object(l.jsx)("option",{value:"ALL",children:"All"}),Object(l.jsx)("option",{value:"DATABASE",children:"Created"}),Object(l.jsx)("option",{value:"API",children:"Page"})]})}),Object(l.jsx)("div",{className:"button-body-favs",children:Object(l.jsx)(r.b,{to:"/home/favs",children:Object(l.jsx)("button",{className:"button-favs",children:Object(l.jsx)("b",{children:"Favorites"})})})})]}),S.length>=1?S.map((function(e){return Object(l.jsx)(T,{healthScore:e.healthScore,title:e.title,image:e.image,diets:e.diets,summary:e.summary,id:e.id},e.id)})):Object(l.jsx)("h1",{children:"No recipes will be found"}),Object(l.jsx)(D,{recipesPage:x,allRecipes:e,paginado:function(e){p(e)},currentPage:b})]})}function R(){var e=Object(j.c)((function(e){return e.favs}));return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Favorites"}),e&&e.map((function(e){return Object(l.jsx)(T,{title:e.title,image:e.image,diets:e.diets,summary:e.summary,id:e.id},e.id)}))]})}c(86);var _=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(i.a,{path:"/home",component:N}),Object(l.jsx)(i.a,{path:"/form",component:N}),Object(l.jsx)(i.a,{exact:!0,path:"/form",component:E}),Object(l.jsx)(i.a,{exact:!0,path:"/",component:o}),Object(l.jsx)(i.a,{exact:!0,path:"/home",component:I}),Object(l.jsx)(i.a,{exact:!0,path:"/home/info/:id",component:f}),Object(l.jsx)(i.a,{exact:!0,path:"/home/favs",component:R})]})},P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,88)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))},L=c(27),F={allRecipes:[],recipesPrueba:[],recipesById:[],diets:[],favs:[]};var U=c(42),k=c(43),w=Object(L.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL":return Object(A.a)(Object(A.a)({},e),{},{recipesPrueba:t.payload,recipes:t.payload,allRecipes:t.payload});case"GET_QUERY":return Object(A.a)(Object(A.a)({},e),{},{recipesPrueba:t.payload});case"GET_ID":var c=t.payload;return Object(A.a)(Object(A.a)({},e),{},{recipesById:c});case"RESTART_INFO":return Object(A.a)(Object(A.a)({},e),{},{recipesById:{}});case"ALL_DIETS":return Object(A.a)(Object(A.a)({},e),{},{diets:t.payload});case"TYPE_DIET":var a=e.allRecipes,n=a.map((function(e){return"object"===typeof e.diets[0]?Object(A.a)(Object(A.a)({},e),{},{diets:e.diets.map((function(e){return e.name}))}):e})),s=n.filter((function(e){return e.diets.includes(t.payload)}));return Object(A.a)(Object(A.a)({},e),{},{recipesPrueba:s});case"FILTER_ASC":var i=[];return console.log(t.payload,"REDUCER"),"ASC"===t.payload.toUpperCase()&&(i=e.recipesPrueba.sort((function(e,t){return e.title>t.title?1:e.title<t.title?-1:0}))),"DES"===t.payload.toUpperCase()&&(i=e.recipesPrueba.sort((function(e,t){return e.title>t.title?-1:e.title<t.title?1:0}))),Object(A.a)(Object(A.a)({},e),{},{recipesPrueba:i});case"FILTER_SCORE":var r=[];return"MAX"===t.payload.toUpperCase()&&(r=e.allRecipes.sort((function(e,t){return e.healthScore<t.healthScore?1:e.healthScore>t.healthScore?-1:0}))),"MIN"===t.payload.toUpperCase()&&(r=e.allRecipes.sort((function(e,t){return e.healthScore<t.healthScore?-1:e.healthScore>t.healthScore?1:0}))),Object(A.a)(Object(A.a)({},e),{},{recipesPrueba:r});case"FILTER_DB":var l=e.allRecipes;console.log(t.payload);var o="DATABASE"===t.payload?l.filter((function(e){return e.hasOwnProperty("updatedAt")})):"API"===t.payload?l.filter((function(e){return!e.hasOwnProperty("updatedAt")})):l;return Object(A.a)(Object(A.a)({},e),{},{recipesPrueba:o});case"ADD_FAV":var j=e.allRecipes,d=j.find((function(e){return e.id===t.payload}));return Object(A.a)(Object(A.a)({},e),{},{favs:e.favs.concat(d)});case"REMOVE_FAV":return Object(A.a)(Object(A.a)({},e),{},{favs:e.favs.filter((function(e){return e.id!==t.payload}))});default:return e}}),Object(U.composeWithDevTools)(Object(L.applyMiddleware)(k.a)));s.a.render(Object(l.jsx)(j.a,{store:w,children:Object(l.jsx)(r.a,{children:Object(l.jsx)(_,{})})}),document.getElementById("root")),P()}},[[87,1,2]]]);
//# sourceMappingURL=main.939453a1.chunk.js.map